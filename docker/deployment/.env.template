# ============================================================================
# Configuration Back-Office LMELP - Production
# ============================================================================
#
# Instructions :
# 1. Copier ce fichier vers .env
# 2. Adapter les valeurs selon votre environnement
# 3. Uploader .env dans Portainer lors du déploiement
#
# ============================================================================

# ============================================================================
# MONGODB (OBLIGATOIRE)
# ============================================================================

# Configuration selon votre environnement :

# Option 1 : NAS Synology avec MongoDB dans conteneur existant (RECOMMANDÉ)
MONGODB_URL=mongodb://mongo:27017/masque_et_la_plume # pragma: allowlist secret

# Option 2 : PC Linux avec MongoDB sur l'hôte
# MONGODB_URL=mongodb://172.17.0.1:27017/masque_et_la_plume # pragma: allowlist secret

# Option 3 : PC Mac/Windows avec MongoDB sur l'hôte
# MONGODB_URL=mongodb://host.docker.internal:27017/masque_et_la_plume # pragma: allowlist secret

# Option 4 : MongoDB distant
# MONGODB_URL=mongodb://<adresse-ip>:27017/masque_et_la_plume # pragma: allowlist secret

# Option 5 : MongoDB avec authentification
# MONGODB_URL=mongodb://username:password@mongo:27017/masque_et_la_plume # pragma: allowlist secret

# ============================================================================
# RÉSEAU DOCKER (OPTIONNEL)
# ============================================================================

# Réseau Docker où se trouve MongoDB
# Défaut : bridge (réseau par défaut Docker)
DOCKER_NETWORK=bridge

# Si MongoDB est sur un réseau Docker personnalisé, spécifier le nom :
# DOCKER_NETWORK=my-custom-network

# ============================================================================
# PORTS (OPTIONNEL)
# ============================================================================

# Port d'accès à l'application (frontend)
# Défaut : 8080
FRONTEND_PORT=8080

# Pour utiliser un autre port (ex: 3000) :
# FRONTEND_PORT=3000

# ============================================================================
# VARIABLES D'ENVIRONNEMENT BACKEND (OPTIONNEL)
# ============================================================================

# Environnement d'exécution
# ENVIRONMENT=production

# Hôte et port backend (ne pas modifier sauf besoin spécifique)
# API_HOST=0.0.0.0
# API_PORT=8000

# ============================================================================
# CALIBRE (OPTIONNEL)
# ============================================================================

# Chemin vers la bibliothèque Calibre
# Laisser vide ou commenter pour désactiver l'intégration Calibre
# CALIBRE_LIBRARY_PATH=/calibre

# Note : Pour Docker, vous devez également monter le volume Calibre dans docker-compose.yml
# Exemple dans docker-compose.yml :
#   volumes:
#     - /chemin/vers/Calibre Library:/calibre:ro

# ============================================================================
# NOTES
# ============================================================================
#
# - MongoDB doit être accessible AVANT de démarrer cette stack
# - Vérifier la connectivité : docker exec lmelp-backend curl http://mongo:27017
# - Pour rollback : modifier les tags d'images vers une version spécifique
#   Ex: ghcr.io/castorfou/lmelp-backend:v1.0.0
#
# Documentation complète :
# https://castorfou.github.io/back-office-lmelp/deployment/docker-setup/
#
# ============================================================================
