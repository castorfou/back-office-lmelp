# Fuzzy Search Fixtures
# Format: input (episodeId + query) â†’ output (matches + found_suggestions)

cases:
  - name: "Maria Pourchet - Tressaillir exact match"
    input:
      episode_id: "68c707ad6e51b9428ab87e9e"
      query_author: "Maria Pourchet"
      query_title: "Tressaillir"
    output:
      found_suggestions: true
      title_matches: [["ğŸ“– Tressaillir", 100]]
      author_matches: [["Maria", 90], ["Pourchet", 90]]

  - name: "Alain Mabancou - RamsÃ¨s de Paris"
    input:
      episode_id: "68c707ad6e51b9428ab87e9e"
      query_author: "Alain Mabancou"
      query_title: "RamsÃ¨s de Paris"
    output:
      found_suggestions: true
      title_matches: [["ğŸ“– RamsÃ¨s de Paris", 100]]
      author_matches: [["d'Alain", 86], ["Mabanckou", 85]]

  - name: "Caroline Dussain - Un dÃ©ni franÃ§ais"
    input:
      episode_id: "68c707ad6e51b9428ab87e9e"
      query_author: "Caroline Dussain"
      query_title: "Un dÃ©ni franÃ§ais"
    output:
      found_suggestions: true
      title_matches: [["ğŸ“– Au grand jamais", 55]]
      author_matches: []

  - name: "Christophe Bigot - Un autre Matin ailleurs"
    input:
      episode_id: "68c707ad6e51b9428ab87e9e"
      query_author: "Christophe Bigot"
      query_title: "Un autre Matin ailleurs"
    output:
      found_suggestions: true
      title_matches: [["ğŸ“– Avale", 54], ["ğŸ“– La Maison vide", 51]]
      author_matches: []

  - name: "Emmanuel CarrÃ¨re - Colcause"
    input:
      episode_id: "68bd9ed3582cf994fb66f1d6"
      query_author: "Emmanuel CarrÃ¨re"
      query_title: "Colcause"
    output:
      found_suggestions: true
      title_matches: [["ğŸ“– Kolkhoze", 85]]
      author_matches: [["Emmanuel CarrÃ¨re", 100]]

  - name: "Yakuta Ali Kavazovic - Au Grand Jamais"
    input:
      episode_id: "68c707ad6e51b9428ab87e9e"
      query_author: "Yakuta Ali Kavazovic"
      query_title: "Au Grand Jamais"
    output:
      found_suggestions: true
      title_matches: [["ğŸ“– Au grand jamais", 100]]
      author_matches: [["Alikavazovic", 82], ["Jakuta", 78]]

  - name: "AgnÃ¨s Michaud - Huitsemences vivantes"
    input:
      episode_id: null
      query_author: "AgnÃ¨s Michaud"
      query_title: "Huitsemences vivantes"
    output:
      found_suggestions: false
      title_matches: []
      author_matches: []

  # ğŸ”´ REAL-WORLD FAILING CASES from Episode 2025-09-07
  - name: "Emmanuel CarrÃ¨re - Colcause â†’ Kolkhoze (ground truth)"
    input:
      episode_id: "68bd9ed3582cf994fb66f1d6"
      query_author: "Emmanuel CarrÃ¨re"
      query_title: "Colcause"
    output:
      found_suggestions: true
      title_matches: [["ğŸ“– Kolkhoze", 85]]  # Should find despite transcription error
      author_matches: [["Emmanuel", 90], ["CarrÃ¨re", 90]]

  - name: "Fatima Das - Jouer le jeu exact match"
    input:
      episode_id: "68bd9ed3582cf994fb66f1d6"
      query_author: "Fatima Das"
      query_title: "Jouer le jeu"
    output:
      found_suggestions: true
      title_matches: [["ğŸ“– Jouer le Jeu", 100]]
      author_matches: [["Fatima", 90], ["Daas", 85]]  # Trouve "Daas" malgrÃ© input "Das"

  - name: "Natacha Apana - La Nuit au cÅ“ur (tolÃ¨re diffÃ©rence Apana/Appanah)"
    input:
      episode_id: "68bd9ed3582cf994fb66f1d6"
      query_author: "Natacha Apana"
      query_title: "La Nuit au cÅ“ur"
    output:
      found_suggestions: true
      title_matches: [["ğŸ“– La Nuit au cÅ“ur", 100]]
      author_matches: [["Natacha", 90], ["Appanah", 75]]  # TolÃ¨re diffÃ©rence orthographique

  - name: "GrÃ©gory Lefloc - Peau d'ours NOT FOUND (pas au programme)"
    input:
      episode_id: "68bd9ed3582cf994fb66f1d6"
      query_author: "GrÃ©gory Lefloc"
      query_title: "Peau d'ours"
    output:
      found_suggestions: false
      title_matches: []
      author_matches: []
